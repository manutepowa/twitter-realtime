angular.module("analyticApp").controller("graficosCrtl",["$scope","mySocket","comprobarConexion","$filter",function(a,b,c,d){a.cantidad=0,a.nulos=0,a.perdidos=0,a.bool=1,b.on("debug",function(b){a.debug=b}),a.lang={de:"alemán",am:"amárico",ar:"árabe",hy:"armenio",bn:"bengalí",my:"birmano",bs:"bosnio",bg:"búlgaro",kn:"canarés",zh:"chino",si:"cingalés",ko:"coreano",hr:"croata",da:"danés",dv:"divehi",sk:"eslovaco",sl:"esloveno",es:"español",et:"estonio",fi:"finés",fr:"francés",ka:"georgiano",el:"griego",gu:"gujarati",he:"hebreo",hi:"hindi",hu:"húngaro",id:"indonesio",en:"inglés",is:"islandés",it:"italiano",ja:"japonés",km:"jemer",ck:"bkurdo",lo:"laosiano",lv:"letón",lt:"lituano",ml:"malayalam",mr:"maratí",nl:"neerlandés",ne:"nepalí",no:"noruego",or:"oriya",pa:"panyabí",ps:"pastún",fa:"persa",pl:"polaco",pt:"portugués",ro:"rumano",ru:"ruso",sr:"serbio",sd:"sindhi",sv:"sueco",tl:"tagalo",th:"tailandés",ta:"tamil",te:"telugu",bo:"tibetano",tr:"turco",ug:"uigur"},a.data={data:[[0,0]],labels:["Track 1","Track 2"],colours:[{fillColor:"#2B333D"}],opt:{scaleShowVerticalLines:!0,barShowStroke:!1,barValueSpacing:100,scaleOverride:!0,scaleStartValue:0,scaleStepWidth:10,scaleSteps:10}},a.emitir=function(){a.bool=0,a.cantidad=0,a.nulos=0,a.perdidos=0,a.track1=0,a.track2=0,a.totalIdioma=0,a.idiomas=[],a.follow=[],a.friend=[],b.emit("inicializar"),a.data.labels[0]=a.text1,a.data.labels[1]=a.text2,c.set(!0),b.emit("startGraficos",{parametro1:a.text1,parametro2:a.text2}),b.on("porcentajes",function(b){a.data.data[0][0]=b.p1,a.data.data[0][1]=b.p2,a.track1=b.track1,a.track2=b.track2,a.cantidad=a.track1+a.track2}),b.on("extraLine",function(b){b.track==a.text1.toLowerCase()?(a.follow.push({media:b.media,name:b.name,data:b.follow,"class":"colorTrack1"}),a.friend.push({media:b.media,name:b.name,data:b.friend,"class":"colorTrack1"})):(a.follow.push({media:b.media,name:b.name,data:b.follow,"class":"colorTrack2"}),a.friend.push({media:b.media,name:b.name,data:b.friend,"class":"colorTrack2"}))}),b.on("lang",function(b){a.totalIdioma++,a.existe=!1,a.width="69%",angular.forEach(a.idiomas,function(c,d){c.idioma===a.lang[b.l]&&(a.existe=!0,a.idiomas[d].cont++,a.idiomas[d].porcentaje=a.idiomas[d].cont/a.totalIdioma*100)}),a.existe||a.idiomas.push({idioma:a.lang[b.l],cont:0,porcentaje:1})}),b.on("nulo",function(){a.nulos++}),b.on("limitacion",function(b){a.perdidos+=b.perdidos})},a.detener=function(){a.bool=1,c.set(!1),b.parar()},c.comprobar()&&a.detener(),$('[data-toggle="tooltip"]').tooltip()}]);